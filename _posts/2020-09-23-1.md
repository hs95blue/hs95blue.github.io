---
layout: post
title:  [스프링프레임워크]AOP
date:   2020-09-23 08:27:35 +0300
image:  '/images/spring.png'
tags:   Spring
---


4) AOP

 IoC , DI 서비스 추상화와 더불어 스프링의 3대 기반 기술 중의 하나.

 

 AOP는 Aspect Oriented Programming 의 약자인데 그 의미는 무엇인가?

 

 

  4-1) Aspect Oriented Programming의 의미는?

  -> Aspect 를 만드는 프로그램 방법.
  -> Aspect 지향 프로그램.

 

  우리말로 풀이하면 관점 지향 프로그래밍

 

   * 여기서 Aspect는 측면 또는 관점이라는 의미로 볼 수도 있고, 부가적인 업무를 의미하기도 함.

 

 “전통적인 객체지향기술의 설계방법으로는 독립적인 모듈화가 불가능한 트랜잭션 경계설정과 같은 부가 기능을 어떻게 모듈화 할 것인가”
 “트랜잭션(핵심 기능과 부가 기능)의 분리”


### 횡단 관심사와 이에 영향 받는 객체 간의 결합도를 낮추는 것!

#### AOP(관점 지향 프로그래밍)는 왜 사용하는가?
- 주 업무가 아닌 부가적인 업무가 강한 응집력을 가지고 있는 경우, 소스 관리 및 개발 업무 진행의 복잡해지고, 어려워짐.
- 즉 서비스 추상화가 어려워짐. 이러한 문제를 해결하기 위한 프로그래밍 기법으로 OOP(Object Oriented Programming)의 보완적 개념.

 

 - 횡단 관심사와 이에 영향 받는 객체 간 결합도를 낮추는데 목적이 있다. 쉽게 말해 클래스들이 공통으로 갖는 기능이나 절차 등을 하나의 것으로 묶어 빼내어 별도로 관리하려는 목적.

 - 이러한 부가적인 업무의 예로 로그인(Login), 트랜잭션(Transaction), 보안(Security), 캐싱(Caching)과 같은 내부 처리(비지니스, Business) 작업이 있다.


 AOP는 메인 프로그램의 비즈니스 로직으로부터 2차적 또는 보조 기능들을 고립시키는 프로그램 패러다임(관점 지향 프로그래밍 패러다임)이며, 애플리케이션의 핵심적인 기능에서 부가적인 기능을 분리해서 애스펙트(Aspect)로 정의하고 설계하여 개발하는 방식.

 

위에서도 언급했지만, 스프링 프레임워크에서의 애스펙트(Aspect)란

 - 주업무가 아닌 업무.
 - 보조업무 : 로그, 트랜잭션, 보안처리.

를 의미함.

 

 

 4-2) AOP의 구현이란?

- 주 업무가 아닌 보조적인 업무를 주 업무를 처리하는 코드에서 분리하는 것.

 

 

 4-3) AOP의 장점은 무엇인가?
- 전체 코드 곳곳에 흩어져 있는 다양한 관심 사항이 하나의 장소로 응집.
- 여타 서비스 모듈이 자신의 주요 관심 사항(또는 핵심 기능)에 대한 코드만 포함하고 그 외의 관심 사항은 모두 Aspect로 옮겨지므로 코드가 깔끔해지고, 가독성이 높아짐.


#### 관점지향프로그래밍(AOP)이란?
링크 : http://ko.wikipedia.org/wiki/%EA%B4%80%EC%A0%90_%EC%A7%80%ED%96%A5_%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D

 

관점지향프로그래밍 패러다임 : 이것은 횡단관심사의 분리를 허용하고, 관점 지향 소프트웨어 개발의 기초를 형성하여 모듈화를 증가시키려 한다. 관점 지향 소프트웨어 개발이 모든 엔지니어링 분야에 관련되는 반면에, 관점 지향 프로그래밍은 소스코드 레벨에서 관심사들의 모듈화를 지원하는 프로그래밍 기술과 툴들을 포함한다.

관점 지향 프로그래밍은 프로그램을 명확한 부분으로 나누는 것을 수반한다. 모든 프로그래밍 패러다임은 이들 관심사들을 구현, 추상화, 구성하는 추상적 개념을 제공하는 분리되고, 독립적인 통로들을 통해 Grouping의 같은 레벨과 관심사들의 캡슐화(Encapsulation)를 지원한다. 그러나 어떤 관심사들은 구현의 이런 형태를 거역하고, 이들이 프로그램 내에서 다중 추상적 개념들에 영향을 끼치기 때문에 횡단관심사(cross-cutting concerns)라고 불린다.

 4-4) AOP의 시각화

 * 핵심적인 기능에서 부가적인 기능을 분리하여 애스팩트라는 독특한 모듈로 만들어서 설계하고 개발하는 방법.

 ![](/images/0923-1.png)
*AOP*

* 독립 애스펙트를 이용한 부가기능의 분리와 모듈화. (애스팩트를 모두 독립시킴) - 위의 그림 참조

 4-5) AOP는 실제 코드에서 어떻게 처리되는가?

 ![](/images/0923-2.png)
*AOP*

 기존의 개발 방식은 보조 업무를 담당하는 코드가 주 업무 코드 사이사이에 포함되어 있음.

 

 보조 업무가 주 업무 코드에 포함될 때에는 다음과 같은 일이 발생.
  * 동일한 작업 반복.
  * 보조 업무의 작업 코드가 변경될 시, 해당 보조 업무를 사용하는 모든 주 업무 코드의 소스 수정 필요.
  * 주 업무 코드보다 더 많은 양의 보조 업무 코드 – 특히 DB 객체 생성 및 접속, 예외 처리, DB 닫기 등.

 AOP는 이러한 보조 업무 코드를 주 업무 코드에서 별도로 분리하여 작성하고, 필요할 때에만 도킹(Docking)하여 사용하는 것은 어떨까? 하는 발상에서 나온 개념.

 

 * 여기서 핵심 코드(핵심 관심사)는 Core(Primary) Concern.

 * 부가/보조 업무 코드(횡단 관심사)는 Cross-Cutting Concern.

 

 위의 오른쪽 그림에서 보듯이 주 업무에서 보조 업무를 횡단으로 잘라내었다는 의미로 Cross-Cutting 이라 불림.






























